# Auto Save Extension

모든 페이지의 이미지와 프롬프트를 실시간으로 자동 저장하는 Chrome 확장 프로그램입니다.

## 기능

### 🔄 자동 저장
- 모든 웹페이지에서 이미지와 프롬프트를 자동으로 감지
- **페이지의 모든 이미지를 한 번에 저장** (실시간이 아닌 전체 스캔)
- 프롬프트는 실시간으로 감지
- 30초마다 주기적으로 페이지 전체 스캔

### 📸 이미지 감지
- **페이지의 모든 이미지를 한 번에 저장**
- 모든 `<img>` 태그의 이미지 URL 저장
- 이미지 크기, alt 텍스트, 페이지 정보 포함
- 중복 이미지 자동 필터링
- 수동 저장 버튼으로 즉시 모든 이미지 저장 가능

### 💬 프롬프트 감지
- textarea의 입력 내용 감지
- 채팅 메시지에서 프롬프트 추출
- 프롬프트 소스 구분 (textarea, chat)

### 📊 실시간 통계
- 저장된 이미지 개수
- 저장된 프롬프트 개수
- 모니터링 중인 페이지 수
- 마지막 저장 시간

### ⚙️ 설정 옵션
- 저장 간격 조정 (1-60초)
- 최대 저장 개수 설정 (100-10,000개)
- 자동 저장 ON/OFF 토글

### 📥 데이터 관리
- **브라우저 스토리지에 저장** (안정적)
- **자동 JSON 다운로드** (10개마다 자동 저장)
- **수동 JSON 내보내기** (언제든지 다운로드)
- 모든 데이터 삭제 기능
- 브라우저 재시작 후에도 상태 유지
- Chrome Downloads API 사용으로 안전한 파일 생성

## 설치 방법

### Chrome 확장 프로그램 설치
1. Chrome 브라우저에서 `chrome://extensions/` 접속
2. 우측 상단의 "개발자 모드" 활성화
3. "압축해제된 확장 프로그램을 로드합니다" 클릭
4. `auto-save-extension` 폴더 선택

## 사용 방법

### 기본 사용
1. 확장 프로그램 아이콘 클릭
2. 토글 스위치로 자동 저장 활성화
3. 웹페이지를 탐색하면 자동으로 데이터 수집

### 수동 이미지 저장
1. "📸 모든 이미지 저장" 버튼 클릭
2. 현재 페이지의 모든 이미지가 즉시 저장됨
3. 저장 결과 (저장된 개수, 건너뛴 개수) 표시

### 설정 조정
- **저장 간격**: 데이터 수집 빈도 조정
- **최대 저장 개수**: 메모리 사용량 제한

### 데이터 내보내기
1. "📥 데이터 내보내기" 버튼 클릭
2. JSON 파일이 자동으로 다운로드
3. 파일명: `auto_save_data_YYYY-MM-DD_HH-MM-SS.json`

## 데이터 저장 위치

### 브라우저 스토리지 (기본)
- **저장 위치**: Chrome 브라우저 내부 스토리지
- **데이터 구조**:
  - `savedData.images` - 저장된 이미지 데이터
  - `savedData.prompts` - 저장된 프롬프트 데이터
  - `monitoredPages` - 모니터링된 페이지 정보

### 자동 JSON 다운로드
- **10개 데이터마다 자동으로 JSON 파일 다운로드**
- **파일명**: `auto_save_data_YYYY-MM-DDTHH-MM-SS-sssZ.json`
- **저장 위치**: Chrome 기본 다운로드 폴더
- **메타데이터 포함**: 총 개수, 내보내기 시간, 버전 정보

### 수동 JSON 내보내기
- 확장 프로그램 팝업에서 "📥 데이터 내보내기" 버튼 클릭
- **파일명**: `auto_save_data_YYYY-MM-DDTHH-MM-SS-sssZ.json`
- **저장 위치**: 사용자가 선택한 폴더

## 저장되는 데이터 형식

### 이미지 데이터
```json
{
  "url": "이미지 URL",
  "alt": "이미지 설명",
  "width": 1920,
  "height": 1080,
  "pageUrl": "페이지 URL",
  "pageTitle": "페이지 제목",
  "timestamp": "2025-01-27T10:30:00.000Z",
  "type": "image"
}
```

### 프롬프트 데이터
```json
{
  "content": "프롬프트 내용",
  "pageUrl": "페이지 URL",
  "pageTitle": "페이지 제목",
  "timestamp": "2025-01-27T10:30:00.000Z",
  "type": "prompt",
  "source": "textarea|chat"
}
```

## 지원하는 페이지

- 모든 웹페이지에서 작동
- 특히 AI 이미지 생성 사이트 (Sora, DALL-E, Midjourney 등)
- 채팅 기반 AI 서비스
- 이미지 갤러리 사이트

## 기술 스펙

- **Manifest Version**: 3
- **권한**: activeTab, storage, tabs, scripting
- **호스트 권한**: <all_urls>
- **실행 시점**: document_end

## 파일 구조

```
auto-save-extension/
├── manifest.json      # 확장 프로그램 설정
├── popup.html         # 팝업 UI
├── popup.js          # 팝업 로직
├── content.js        # 콘텐츠 스크립트
├── background.js     # 백그라운드 스크립트
└── README.md         # 사용 설명서
```

## 주의사항

- 브라우저 메모리 사용량이 증가할 수 있습니다
- 많은 데이터를 수집할 경우 성능에 영향을 줄 수 있습니다
- 민감한 정보가 포함된 페이지에서는 사용을 주의하세요

## 문제 해결

### 자동 저장이 작동하지 않는 경우
1. 확장 프로그램이 활성화되어 있는지 확인
2. 브라우저 콘솔에서 오류 메시지 확인
3. 페이지를 새로고침 후 다시 시도

### 데이터가 저장되지 않는 경우
1. 저장 간격 설정 확인
2. 최대 저장 개수 제한 확인
3. 브라우저 저장소 공간 확인

## 업데이트 내역

### v1.0.0
- 초기 버전 릴리즈
- 실시간 이미지 및 프롬프트 감지
- 자동 저장 기능
- 데이터 내보내기 기능 