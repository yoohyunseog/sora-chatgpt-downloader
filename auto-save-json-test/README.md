# 🎨 Sora ChatGPT 자동 저장 확장 프로그램

Sora ChatGPT 라이브러리 페이지(`https://sora.chatgpt.com/library`)에서 이미지와 프롬프트를 자동으로 수집하고 저장하는 Chrome 확장 프로그램입니다.

## ✨ 주요 기능

### 🔄 자동 저장
- **30초마다 자동 저장**: 설정 가능한 간격으로 자동 저장 (10초~3600초)
- **실시간 카운트다운**: 다음 저장까지 남은 시간을 실시간으로 표시
- **실시간 감지**: 페이지 변경 시 자동으로 새 데이터 수집
- **중복 방지**: 이미 저장된 이미지/프롬프트는 건너뜀

### 📸 데이터 수집
- **이미지 수집**: 페이지의 모든 이미지 URL, 크기, alt 텍스트
- **프롬프트 수집**: 페이지의 모든 프롬프트 텍스트
- **메타데이터**: 수집 시간, 페이지 URL 등

### 💾 데이터 관리
- **JSON 다운로드**: 수집된 데이터를 JSON 파일로 다운로드
- **통계 표시**: 저장된 이미지/프롬프트 개수 실시간 표시
- **데이터 초기화**: 저장된 모든 데이터 삭제

## 🚀 설치 방법

### 1. 확장 프로그램 로드
1. Chrome 브라우저에서 `chrome://extensions/` 접속
2. 우측 상단의 **"개발자 모드"** 활성화
3. **"압축해제된 확장 프로그램을 로드합니다"** 클릭
4. 이 폴더(`auto-save-json-test`) 선택

### 2. 권한 확인
- **저장소**: 데이터 저장을 위한 권한
- **탭**: 현재 탭 정보 접근 권한
- **Sora ChatGPT**: `https://sora.chatgpt.com/*` 도메인 접근 권한

## 📖 사용 방법

### 1. 기본 사용
1. **Sora ChatGPT 라이브러리 페이지** 접속: `https://sora.chatgpt.com/library`
2. 확장 프로그램 아이콘 클릭
3. **자동 저장 토글**을 ON으로 설정
4. **카운트다운**이 표시되며 30초마다 자동으로 데이터 수집 시작

### 2. 카운트다운 기능
- **실시간 표시**: 다음 저장까지 남은 시간을 초 단위로 표시
- **자동 재시작**: 저장 완료 후 자동으로 새로운 카운트다운 시작
- **시각적 피드백**: 그라데이션 배경으로 눈에 잘 띄는 디자인

### 3. 수동 저장
- **"📸 수동 저장"** 버튼으로 즉시 데이터 수집
- 페이지 변경 후 즉시 저장하고 싶을 때 사용

### 4. 데이터 다운로드
- **"💾 JSON 다운로드"** 버튼으로 수집된 데이터 다운로드
- 파일명: `sora_auto_save_YYYY-MM-DDTHH-MM-SS.json`

### 5. 설정 변경
- **저장 간격**: 10초~3600초(1시간) 사이로 설정 가능
- **자동 저장 ON/OFF**: 토글 스위치로 간편하게 제어

## 📊 수집되는 데이터

### 이미지 데이터
```json
{
  "id": "img_1234567890_0",
  "url": "https://example.com/image.jpg",
  "alt": "이미지 설명",
  "width": 1024,
  "height": 768,
  "timestamp": "2025-01-27T12:00:00.000Z",
  "pageUrl": "https://sora.chatgpt.com/library"
}
```

### 프롬프트 데이터
```json
{
  "id": "prompt_1234567890_0",
  "text": "프롬프트 텍스트 내용",
  "timestamp": "2025-01-27T12:00:00.000Z",
  "pageUrl": "https://sora.chatgpt.com/library",
  "selector": "[data-testid=\"prompt-text\"]"
}
```

## 🔧 고급 기능

### 실시간 카운트다운
- **1초마다 업데이트**: 정확한 시간 표시
- **자동 재시작**: 저장 완료 후 새로운 카운트다운 시작
- **시각적 디자인**: 그라데이션 배경과 큰 숫자로 가독성 향상

### DOM 변경 감지
- 페이지에 새로운 콘텐츠가 추가되면 자동 감지
- MutationObserver를 사용한 실시간 모니터링

### 중복 방지
- URL 기반 이미지 중복 확인
- 텍스트 기반 프롬프트 중복 확인
- 저장 공간 효율적 사용

### 에러 처리
- 네트워크 오류, 권한 오류 등 자동 처리
- 상세한 로그 메시지로 디버깅 지원

## 📝 로그 확인

### 개발자 도구에서 로그 확인
1. **F12** 키로 개발자 도구 열기
2. **Console** 탭 선택
3. 확장 프로그램 관련 로그 확인

### 주요 로그 메시지
- `Sora ChatGPT 콘텐츠 스크립트 로드됨`
- `이미지 수집 완료: X개 새 이미지`
- `프롬프트 수집 완료: X개 새 프롬프트`
- `데이터 저장 완료`
- `자동 저장 시작: X초 간격`

## ⚠️ 주의사항

### 권한 요구사항
- **저장소 권한**: 데이터 저장을 위해 필요
- **탭 권한**: 현재 페이지 정보 접근을 위해 필요
- **Sora ChatGPT 도메인**: 해당 사이트에서만 작동

### 성능 고려사항
- **저장 간격**: 너무 짧은 간격(10초 미만)은 성능에 영향
- **데이터 크기**: 많은 데이터 수집 시 메모리 사용량 증가
- **네트워크**: 이미지 URL 접근 시 네트워크 사용

### 브라우저 호환성
- **Chrome 88+**: Manifest V3 지원 필요
- **다른 브라우저**: Chrome 기반 브라우저에서만 작동

## 🐛 문제 해결

### 자동 저장이 작동하지 않는 경우
1. **페이지 URL 확인**: `https://sora.chatgpt.com/library`인지 확인
2. **권한 확인**: 확장 프로그램 권한이 허용되었는지 확인
3. **페이지 새로고침**: F5 키로 페이지 새로고침
4. **확장 프로그램 재로드**: `chrome://extensions/`에서 재로드

### 카운트다운이 표시되지 않는 경우
1. **자동 저장 ON 확인**: 토글 스위치가 ON 상태인지 확인
2. **페이지 새로고침**: 페이지를 새로고침하여 콘텐츠 스크립트 재로드
3. **확장 프로그램 재로드**: 확장 프로그램을 재로드

### 데이터가 수집되지 않는 경우
1. **콘솔 로그 확인**: 개발자 도구에서 오류 메시지 확인
2. **네트워크 연결**: 인터넷 연결 상태 확인
3. **페이지 로딩 대기**: 페이지가 완전히 로드될 때까지 대기

### JSON 다운로드가 안 되는 경우
1. **팝업 차단 확인**: 브라우저 팝업 차단 설정 확인
2. **다운로드 폴더 확인**: 다운로드 폴더 권한 확인
3. **브라우저 재시작**: Chrome 브라우저 재시작

## 📞 지원

문제가 발생하거나 기능 개선 제안이 있으시면:
1. **콘솔 로그** 확인 후 오류 메시지 기록
2. **현재 페이지 URL**과 **확장 프로그램 상태** 확인
3. **재현 단계**를 상세히 기록하여 문의

---

**버전**: 1.0.0  
**최종 업데이트**: 2025-01-27  
**지원 브라우저**: Chrome 88+ 